<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <h3>
        S문자열에서 T문자열과 아나그램이 되는 S의 부분문자열의 개수를 구하는
        프로그램을 작성하 세요. 아나그램 판별시 대소문자가 구분됩니다.
        부분문자열은 연속된 문자열이어야 합니다.
      </h3>
      <br />
      ▣ 입력설명 첫 줄에 첫 번째 S문자열이 입력되고, 두 번째 줄에 T문자열이
      입력됩니다. S문자열의 길이는 10,000을 넘지 않으며, T문자열은 S문자열보다
      길이가 작거나 같습니다.
      <br />
      <br />
      ▣ 출력설명
      <br />
      S단어에 T문자열과 아나그램이 되는 부분문자열의 개수를 출력합니다.
    </div>
    <script>
      const t1 = "bacaAacba";
      const t2 = "abc";

      const compareMaps = (m1, m2) => {
        if (m1.size !== m2.size) {
          return false;
        }

        for (let [key, val] of m1) {
          if (!m2.has(key)) return false;
          if (m2.get(key) !== val) return false;

          return true;
        }
      };

      const solution = (t1, t2) => {
        let answer = 0;

        let word = "";

        let sH = new Map();
        let t2HashMap = new Map();

        for (let x of t2) {
          if (t2HashMap.has(x)) {
            t2HashMap.set(x, t2HashMap.get(x) + 1);
          } else {
            t2HashMap.set(x, 1);
          }
        }

        let len = t2.length - 1;
        for (let i = 0; i < length; i++) {
          if (sH.has(t1[i])) {
            sH.set(t1[i], sH.get[t1[i]] + 1);
          } else {
            sH.set(t1[i], 1);
          }
        }
        let lp = 0;

        for (let rp = len; rp < t1.length; rp++) {
          if (sH.has(t1[rp])) {
            sH.set(t1[rp], sH.get(t1[rp]) + 1);
          } else {
            sH.set(t1[rp], 1);
          }

          console.log(sH, t2HashMap);

          if (compareMaps(sH, t2HashMap)) {
            answer++;
          }
          sH.set(t1[lp], sH.get(t1[lp]) - 1);
          if (sH.get(t1[lp]) === 0) {
            sH.delete(t1[lp]);
          }
          lp++;

          console.log(answer);
        }

        return answer;
        // for
      };

      console.log(solution(t1, t2));
    </script>
  </body>
</html>
